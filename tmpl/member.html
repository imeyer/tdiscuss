{{ template "header" . }}

{{ if .Member }}
{{ if eq .CurrentUserEmail .Member.Email }}
<h2>
    <a href="/member/edit">Edit Profile</a>
</h2>
{{ end }}

<table class="profile-table">
    <tr>
        <td class="profile-column">
            <div class="profile-photo">
                {{ if ne .Member.PhotoUrl.String "" }}
                <img src="{{ .Member.PhotoUrl.String }}" />
                {{ else }}
                NO PHOTO
                {{ end }}
            </div>
        </td>
        <td class="info-column">
            <div class="content-container">
                <div class="content-row">
                    {{ if ne .Member.Location.String "" }}
                    Location: {{ .Member.Location.String }}<br />
                    {{ end }}
                    {{ if ne .Member.Pronouns.String "" }}
                    Pronouns: {{ .Member.Pronouns.String }}<br />
                    {{ end }}
                    {{ if ne .Member.PreferredName.String "" }}
                    Preferred Name: {{ .Member.PreferredName.String }}<br />
                    {{ end }}
                    {{ if ne .Member.Bio.String "" }}
                    Bio: {{ .Member.Bio.String }}<br />
                    {{ end }}
                    Joined on {{ .Member.DateJoined.Time | formatTimestamp }}<br />
                </div>
                {{ if .Threads }}
                <div class="thread-content-row">
                    {{ template "index-thread-partial" . }}
                </div>
                {{else}}
                <div class="content-row">
                    Nothing posted yet
                </div>
                {{end}}
            </div>
        </td>
    </tr>
</table>
{{ else }}
<h1>Can not find member</h1>
{{ end }}

{{ template "footer" . }}
